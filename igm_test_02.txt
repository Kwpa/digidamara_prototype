Let's make a game!
  name:Digidamara_1
  author:BAGEL+BALLOON and friends
  desc:A game about the end of the universe
  created:03/12/2021
  version:1

Settings

  background:https://ak.picdn.net/shutterstock/videos/1014299564/thumb/1.jpg

CSS
  #box-main
  {
  	left:0px;
  	top:0px;
  	bottom:0px;
    right:20%;
  	overflow:hidden;
  	width:100%;
  	position:absolute;
  }
  #box-store
  {
    left:80%;
    top:0px;
    bottom:0px;
    right:100px;
    overflow:hidden;
    width:100%;
    position:absolute;
  }
  #box-logBox
  {
    top:70%;
    width:50%;
    height:30%;
    font-size:17px;
    backgroundColor:DodgerBlue;
  }
  .teams
  {
    height:200%;
    font-size: 20px;
  }
  .team1
  {
    position:absolute;
    top:30%;
    left:20%
  }
  .team2
  {
    position:absolute;
    top:30%;
    left:50%
  }
  .team3
  {
    position:absolute;
    top:30%;
    left:80%
  }
  .energy
  {
    font-size:20px;
    background-color: DodgerBlue;
  }
  .sparks
  {
    font-size:20px;
    background-color: orange;
  }
  .thing-icon,.particle
  {
    width:200px;
    height:200px;
  }

Layout
  *main
    contains:res, buttons, logBox
    *res
      contains:Resources
      class:fullWidth
    *buttons
      contains:Buttons
    *logBox
      contains:Log
      class:bottom
  *store
    contains:items
    *items
      contains:Items
      header:Items


Items
  *sword
    name:A sword
    icon:https://static.thenounproject.com/png/788246-200.png


Includes

  *include teaminit %teamid %teamname %health="100" %refrhealth="50" %lives="3" %maxhealth="100" %healthboost="100" %healthloss="5" %clickcost="1" %sparkle="2" %feetwearout="1" %handswearout="1"

    *[%teamid]feetwearout
      name: [%teamname] foot wearout rate
      on start:
        start with:[%feetwearout]
      end
    *[%teamid]handswearout
      name: [%teamname] hand wearout rate
      on start:
        start with:[%handswearout]
      end
    *[%teamid]feetitemspq
      name: [%teamname]'s volume of cheap shoes
      class:energy
      on start:
        start with:100
      end
      on tick:
        if (startgame=1)
          lose 5 this
        end
      end
    *[%teamid]handsitemspq
      name: [%teamname]'s volume of cheap gloves
      class:energy
      on start:
        start with:100
      end
      on tick:
        if (startgame=1)
          lose 5 this
        end
      end
    *[%teamid]feetitemsgq
      name: [%teamname]'s volume of wellmade shoes
      class:energy
      on start:
        start with:50
      end
      on tick:
        if (startgame=1)
          lose 3 this
        end
      end
    *[%teamid]handsitemsgq
      name: [%teamname]'s volume of wellmade gloves
      class:energy
      on start:
        start with:50
      end
      on tick:
        if (startgame=1)
          lose 3 this
        end
      end
    *[%teamid]health
      //name: [%teamname]
      on start:
        start with:[%health]
      end
      on tick:
        if ([%teamid]feetitemspq=0 and [%teamid]feetitemsgq=0 and [%teamid]handsitemspq=0 and [%teamid]handsitemsgq=0)
          if (teamsurvivalcount>=2 and startgame=1)
            lose [%teamid]healthloss this
            if ([%teamid]health<0.5 and [%teamid]lives>=1)
              lose 1 [%teamid]lives
              log ðŸ˜­ [%teamname] has lost a life. [[%teamid]lives-1] lives remaining!
              [%teamid]health is [%refrhealth]
            end
          end
        end
      end
    *[%teamid]dead
      on start:
        start with:0
      end
    *[%teamid]lives
      on start:
        start with:[%lives]
      end
      on tick:
        if ([%teamid]lives=0 and [%teamid]dead=0 and teamsurvivalcount>=2)
          lose 1 teamsurvivalcount
          log No lives left. [%teamname] are out of the competition!
          [%teamid]dead is 1
          [%teamid]health is 0
        end
        if (teamsurvivalcount=1 and [%teamid]dead=0)
          log All other contestants eliminated! ðŸ‘‘ [%teamname] wins! ðŸ‘‘
          [%teamid]dead is 2
        end
      end
    *[%teamid]maxhealth
      on start:
        start with:[%maxhealth]
      end
    *[%teamid]healthboost
      on start:
        start with:[%healthboost]
      end
    *[%teamid]healthloss
      on start:
        start with:[%healthloss]
      end
    *[%teamid]clickcost
      on start:
        start with:[%clickcost]
      end
    *[%teamid]sparkle
      on start:
        start with:[%sparkle]
      end
    *[%teamid]clickcount
      on start:
        start with:0
      end

  *include teambuttoninit %teamid %teamname
    *[%teamid]button
      name:[%teamname]
      desc:Click [%teamname] to generate Sparks, costs Energy
      class:[%teamid] team
      icon:https://static.thenounproject.com/png/788246-200.png
      tooltip origin:bottom
      tooltip class:red
      text:[%teamname] <//>(LIVES = [[%teamid]lives])<//>(HP = [[%teamid]health]/[[%teamid]maxhealth])
      hidden
      on tick:
        if (startgame=1)
          show this
        end
      end
      on click:
        if (energy>=1 and [%teamid]health>=1 and [%teamid]dead=0)
          yield [%teamid]sparkle sparks
          yield [%teamid]healthboost [%teamid]health
          lose [%teamid]clickcost energy
          if ([%teamid]health > [%teamid]maxhealth)
            [%teamid]health is [%teamid]maxhealth
          end
        end
      end
      on click:
        if ([%teamid]dead=0)
          yield 1 [%teamid]clickcount
        end
      end

  *include schedevent %schedtime %eventname %amessage %bmessage="null" %prob="100%"
    on tick:
      if (eventtime=[%schedtime])
        if (chance([%prob])=1)
          log [%eventname] [%amessage]
        else
          log [%eventname] [%bmessage]
        end
      end
    end

  *include repeatevent %repeattime %eventname %amessage %bmessage="null" %prob="100%"
    on tick:
      if (eventtime%[%repeattime]=0)
        if (chance([%prob])=1)
          log [%eventname] [%amessage]
        else
          log [%eventname] [%bmessage]
        end
      end
    end

  *include pause %schedtime
    on tick:
      if (eventtime=[%schedtime])
        yield 1 eventtime
        paused is 1
      end
    end

  *include reveal %schedtime %item
    on tick:
      if (eventtime=[%schedtime])
        show [%item]
      end
    end

  *include cndevent %condition %eventname %amessage %bmessage="null" %abprob="100%"
    *[%eventname]
    start with:1
    on tick:
      if ([%condition] and [%eventname]=1)
        if (chance([%abprob])=1)
          log [%eventname] [%amessage]
        else
          log [%eventname] [%bmessage]
        end
        this is 0
      end
    end

  *include cndtoggevent %acondition %bcondition %eventname %aaction %baction
    *[%eventname]
    start with:0
    on tick:
      if ([%acondition] and [%eventname]=0)
        [%aaction]
        this is 1
      else if ([%bcondition] and [%eventname]=1)
        [%baction]
        this is 0
      end
    end

    // example [i:cndtoggevent %acondition="team1health<=50" %bcondition="team1health>50" %eventname="cndtoggevent1" %aaction="yield 100 energy" %baction="yield 200 sparks"]

  *include startbutton %text
    *startbutton
      name:[%text]
      desc:Click to begin.
      icon:https://static.thenounproject.com/png/3134226-200.png
      class:team2
      hidden
      on click:
        startgame is 1
        paused is 0
        hide this
        gain sword
      end

Resources

// time

  *eventtime
    on tick:
      if (paused=0)
        yield 1 eventtime
      end
    end

    // !! put all scheduled events here //

    [i:schedevent %schedtime="2" %eventname="SYSTEM:" %amessage="<b>Welcome to DIGIDAMARA!</b>" %bmessage="<b>Welcome back to DIGIDAMARA!</b>" %prob="50%"]
    [i:schedevent %schedtime="4" %eventname="SYSTEM:" %amessage="Thanks for being here!"]
    [i:schedevent %schedtime="6" %eventname="SYSTEM:" %amessage="Click the start game button to begin!"]
    [i:reveal %schedtime="6" %item="startbutton"]
    [i:pause %schedtime="6"]
    [i:schedevent %schedtime="9" %eventname="Unpaused" %amessage="Unpaused!"]

// conditionals

  // !! put all conditional events here //

  [i:cndevent %condition="energy<=5" %eventname="cndevent1" %amessage="Running out of energy!"]

// teams

  [i:teaminit %teamid="team1" %teamname="Team 1"]
  [i:teaminit %teamid="team2" %teamname="Team 2"]
  [i:teaminit %teamid="team3" %teamname="Team 3"]

  *teamsurvivalcount
    on start:
      start with:3
    end

// bools

  *startgame
    on start:
      start with:0
    end

  *paused
    on start:
      start with:0
    end

// main resources

  *energy
    name:Energy
    desc:Give your energy to the teams
    on start:
  		start with:10
  	end
    class:energy

  *spark|sparks
    name:Spark|Sparks
    desc:Dancers at the end of the universe generate this!
    class:sparks

Buttons

  [i:teambuttoninit %teamid="team1" %teamname="Team One"]
  [i:teambuttoninit %teamid="team2" %teamname="Team Two"]
  [i:teambuttoninit %teamid="team3" %teamname="Team Three"]
  [i:startbutton %text="Start Game"]
